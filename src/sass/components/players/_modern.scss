@import '../../mixins';

.modern-player {
  max-width: 900px;
  max-height: 760px;

  display: grid;

  align-content: space-around;

  grid-template-rows: 70vh;
  grid-template-columns: 0.6fr 1fr;
  grid-template-areas: 'dock player';
  column-gap: 1.4rem;

  .dock {
    grid-area: dock;

    justify-self: self-end;

    width: 100%;
    max-width: 215px;

    place-items: center;
    padding: useClamp(16);

    display: grid;
    grid-template-columns: 100%;
    $base-row: 1fr;
    grid-template-rows:
      $base-row
      calc($base-row + ($base-row * 0.6))
      calc($base-row + $base-row);

    grid-template-areas:
      'dotted'
      'preview'
      'footer'
      ;
    row-gap: useClamp(20);

    border-radius: 4px;
    background: var(--color-modern-yellow-200);

    background-clip: padding-box;
    border: solid 1px transparent;
    position: relative;

    box-shadow: 0px 8px 37px 3px rgba(118, 50, 0, 0.83);

    &::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: -1;
      margin: -1px; /* !importanté */
      border-radius: inherit; /* !importanté */
      background: var(--color-modern-yellow-50);
    }

    .dotted-grid {
      grid-area: dotted;

      display: grid;
      grid-template-columns: repeat(8, 5px);

      @media screen and (min-width: 481px) {
        grid-template-columns: repeat(13, 5px);
      }
      
      grid-template-rows: auto;
      gap: 10px;

      .dot {
        $size: 7px;
        width: $size;
        height: $size;

        background: var(--color-modern-yellow-100);

        border-radius: 50%;

        position: relative;

        &::before {
          content: '';

          // $size2: $size - ($size * 0.4);
          $size2: 4.2px;
          width: $size2;
          height: $size2;

          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          
          border-radius: inherit; /* !importanté */
          background: var(--color-modern-gray-900);
        }
      }
    }

    .preview {
      grid-area: preview;

      width: 100%;
      height: 100%;

      background: var(--color-modern-yellow-250);

      display: grid;
      place-items: center;

      .display {
        width: calc(100% - 6px);
        height: calc(100% - 6px);

        background: var(--color-modern-gray-900);
        border-radius: 5px;
      }

      border-radius: 5px;
    }

    footer {
      grid-area: footer;

      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      
      @media (min-width: 600px) {
        flex-direction: row;
      }
  
      .levels {
        width: 40%;
        display: grid;
        grid-template-areas:
          "title"
          "lines"
        ;
        grid-template-rows: 1fr 4fr;
        grid-template-columns: auto;
        place-items: center;
        padding-top: useClamp(8);

        .title {
          width: 100%;
          grid-area: title;
          opacity: 0.7;
          display: flex;
          justify-content: flex-start;
          align-items: center;
          position: relative;
  
          h4 {
            color: var(--color-modern-gray-100);
            font-size: useClamp(12);
          }
        }

        .lines {
          grid-area: lines;
          display: flex;
          justify-content: space-between;
          width: 100%;
          height: 100%;

          .line {
            width: 27%;
            border-radius: 16px;
            position: relative;
            background: linear-gradient(150.95deg, #C0841A -21.43%, #FCD453 104.76%);
            height: 100%;

            &::before {
              content: "";
  
              position: absolute;
              inset: 0;
              margin: auto;
              border-radius: calc(16px * 2);
  
  
              width: calc(100% - 12px);
              height: calc(100% - 12px);
            }

            &-1::before {
              background: linear-gradient(180deg, #1A191E 17.5%, #4971FF 27.37%, #6349FF 94.79%);
            }

            &-2::before {
              background: linear-gradient(180deg, #1A191E 37.53%, #FF4949 47.23%, #E02115 100%);
            }

            &-3::before {
              background: linear-gradient(180deg, #1A191E 58.23%, #2AD870 66.27%, #00C868 100%);
            }
          }
        }
      }
    }


    .dock-control {
      display: grid;
      grid-template-areas:
        "title"
        "lights"
      ;
      grid-template-rows: 1fr 4fr;
      grid-template-columns: auto;
      place-items: center;
      border-radius: 8px;

      padding: useClamp(8);
      padding-bottom: useClamp(6);

      background: rgba(255, 255, 255, 0.425);

      .title {
        width: 100%;
        grid-area: title;
        opacity: 0.7;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        position: relative;

        h4 {
          color: var(--color-modern-yellow-270);
          font-size: useClamp(12);
        }
      }

      .lights {
        grid-area: lights;
        display: grid;
        grid-template-rows: repeat(4, 1fr);
        grid-template-columns: repeat(2, 1fr);
        justify-content: space-between;
        place-items: center;
        width: 100%;
        height: 97%;
        opacity: 1;
        border-radius: 6px;
        background: linear-gradient(180deg, #ECB54A 0%, #E8AE47 100%);

        .light {
          $lightSize: 12px;
          width: $lightSize;
          height: $lightSize;
          background: linear-gradient(150.95deg, #C0841A -21.43%, #FCD453 104.76%);

          position: relative;
          border-radius: 50%;

          // box-shadow: 0 0 4px 4px rgba(255, 255, 255, 0.5);
          
          &::before {
            content: "";

            width: calc(100% - 3px);
            height: calc(100% - 3px);
            
            position: absolute;
            inset: 0;
            margin: auto;
            
            border-radius: 50%;
          }

          &::after {
            content: "";

            width: 100%;
            height: 100%;

            z-index: 10;

            
            box-shadow: 0 0 4px 4px rgba(255, 255, 255, 0.25);
            background: rgba(255, 255, 255, 0.4);
            
            position: absolute;
            top: 50%;
            left:  50%;
            transform: translate(-50%, -50%);

            border-radius: 50%;
          }
          
          &:not(.light-1) {
            &::before {
              background: #fff;
            }
          }

          &-1 {
            &::before {
              background: radial-gradient(116.67% 116.67% at 33.33% 25%, #95A29F 0%, #3E3E3E 100%);
            }
          }
        }

        span, button {
          width: 5px;
          height: 5px;
          background: red;
        }
      }
    }
  }

  .player {
    grid-area: player;

    max-width: 670px;

    width: 100%;
    height: 100%;

    border-radius: 4px;
    background: var(--color-modern-yellow-200);

    background-clip: padding-box;
    border: solid 1px transparent;
    position: relative;

    box-shadow: 0px 8px 37px 3px rgba(118, 50, 0, 0.83);

    &::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: -1;
      margin: -1px; /* !importanté */
      border-radius: inherit; /* !importanté */
      background: var(--color-modern-yellow-50);
    }
  }
}
